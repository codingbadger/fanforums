<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FanForum — Real-Time Match Chat & Beautiful Forums</title>
    <meta name="description" content="FanForum blends clean, modern forums with a Slack-style live match chat. Club-only rooms, real-time scores, and one account across football, F1 and more." />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚽</text></svg>">

    <style>
        :root {
            --bg:#f9fafb;
            --panel:#ffffff;
            --ink:#111827;
            --muted:#475467;
            --brand:#14532d;
            --brand-ink:#ffffff;
            --line:#e5e7eb;
            --accent:#eef2ff;
            --good:#84cc16;
            --warn:#f59e0b;
            --danger:#ef4444;
            --radius:16px;
            --shadow:0 10px 30px rgba(16,24,40,.06), 0 2px 6px rgba(16,24,40,.04);
            --sans: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
            --content-max: 1160px;
            --mock-max: 1040px;
        }
        *{box-sizing:border-box}
        html,body{height:100%}
        body{margin:0; font-family:var(--sans); color:var(--ink); background:linear-gradient(180deg,#fafbff 0%, #f7f8fb 60%, #f2f4f7 100%)}
        a{color:var(--brand); text-decoration:none} a:hover{text-decoration:underline}

        .container{max-width:var(--content-max); margin:0 auto; padding:0 20px}
        .nav{display:flex; align-items:center; justify-content:space-between; padding:16px 0}
        .brand{display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.2px}
        .logo{width:36px; height:36px; border-radius:50%; background:radial-gradient(circle at 30% 30%, var(--brand), var(--brand)); box-shadow:inset 0 0 0 3px var(--warn); position:relative}
        .logo:after{content:""; position:absolute; inset:8px; border:3px solid #fff; border-radius:50%}
        .nav a.btn{padding:10px 14px; border-radius:12px; background:var(--brand); color:var(--brand-ink); font-weight:600; box-shadow:0 6px 16px rgba(19,99,223,.25)}
        .btn{display:inline-flex; align-items:center; gap:8px; padding:12px 16px; border-radius:12px; font-weight:700; border:1px solid var(--line); background:#fff; cursor:pointer}
        .btn.primary{background:var(--brand); color:var(--brand-ink); border-color:transparent}
        .btn.ghost{background:transparent}

        .hero-wrap{width:100%; background:linear-gradient(180deg,#f5f8ff 0%, #ffffff 100%)}
        .hero{max-width:var(--content-max); margin:0 auto; padding:56px 20px 40px}
        .hero .eyebrow{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; background:var(--accent); border:1px solid #D6E4FF; border-radius:999px; font-weight:600; color:#344054; font-size:13px}
        .hero h1{font-size:clamp(28px,4vw,46px); line-height:1.08; margin:14px 0 12px}
        .hero .sub{color:var(--muted); font-size:clamp(15px,1.6vw,18px); margin:0 0 22px; max-width:900px}
        .hero .cta{display:flex; gap:12px; flex-wrap:wrap}

        .showcase{padding:28px 0 8px}
        .fullrow{width:100%}
        .frame{max-width:var(--mock-max); border-radius:var(--radius); border:1px solid var(--line); background:#fff; box-shadow:var(--shadow); padding:16px}
        .frame.left{margin:0 auto 24px 20px;}
        .frame.right{margin:0 20px 24px auto;}
        @media (max-width: 740px){
            .frame.left, .frame.right{margin:0 20px 24px 20px;}
        }

        .forum, .chat{min-width:0}
        .forum{border-radius:14px; overflow:hidden; border:1px solid var(--line); background:#fff}
        .forum .head{display:flex; align-items:center; justify-content:space-between; padding:12px 14px; background:#FAFBFF; border-bottom:1px solid var(--line)}
        .forum .threads{display:grid}
        .thread{display:block; padding:14px; border-top:1px dashed #E5E7EB}
        .thread:first-child{border-top:none}
        .thread .title{font-weight:700}
        .thread .meta{color:#667085; font-size:13px}
        .reply-row{display:flex; gap:12px; margin-top:8px; padding-left:8px}
        .reply-collapse{border-left:2px solid #E5E7EB; padding-left:12px}
        .reply-bubble{background:#F9FAFB; border:1px solid #EEF2F7; padding:8px 10px; border-radius:12px}

        .chips{display:flex; gap:6px; flex-wrap:wrap; margin:6px 0 8px}
        .chip{font-size:12px; padding:4px 8px; border:1px solid #E5E7EB; border-radius:999px; background:#F9FAFB; color:#344054; line-height:1.2}

        .pill{display:inline-flex; padding:6px 10px; border-radius:999px; background:#F2F4F7; color:#344054; font-weight:600; font-size:12px; border:1px solid var(--line)}

        .chat{border-radius:14px; border:1px solid var(--line); overflow:hidden; background:#fff}
        .chat .bar{display:flex; justify-content:space-between; align-items:center; padding:10px 12px; background:var(--brand); color:#fff; font-weight:700}
        .chat .msgs{padding:14px; display:grid; gap:10px; background:linear-gradient(180deg,#F8FBFF, #FFFFFF)}
        .msg{display:flex; gap:10px; align-items:flex-start}
        .msg .bubble{padding:10px 12px; border-radius:12px; background:#fff; border:1px solid #E6EAF0; max-width:75%}
        .msg.you{justify-content:flex-end}
        .msg.you .bubble{background:#EEF4FF; border-color:#D6E4FF}
        .score{display:inline-grid; grid-auto-flow:column; align-items:center; gap:10px; padding:6px 10px; background:var(--muted); color:#fff; border-radius:999px; font-weight:800}
        .score .live{background:#F04438; color:#fff; padding:2px 6px; border-radius:6px; font-weight:800; font-size:12px}
        .input{display:flex; gap:10px; padding:10px; border-top:1px solid #EEF2F7; background:#FAFBFF}
        .input input{flex:1; border:1px solid #E5E7EB; border-radius:12px; padding:12px}
        .input button{border:0; background:var(--brand); color:#fff; font-weight:700; border-radius:12px; padding:12px 16px}

        .features{padding:36px 0; position:relative}
        .grid{display:grid; gap:20px}
        .features .grid{grid-template-columns: repeat(3,1fr)}
        .feat{padding:20px; border:1px solid var(--line); border-radius:16px; background:#fff}
        .feat h3{margin:10px 0 6px; font-size:18px}
        .feat p{margin:0; color:var(--muted); font-size:15px}

        /* Carousel controls (hidden by default; shown on mobile) */
        .carousel-nav, .carousel-dots{display:none}
        @media (max-width: 560px){
            .features .grid{
                display:flex;
                overflow-x:auto;
                gap:12px;
                padding:4px 4px 16px;
                scroll-snap-type:x mandatory;
                -webkit-overflow-scrolling:touch;
            }
            .features .grid::-webkit-scrollbar{display:none}
            .feat{
                flex:0 0 85%;
                min-width:85%;
                scroll-snap-align:center;
            }
            .carousel-nav{
                display:flex;
                position:absolute;
                inset:0 0 auto 0;
                height:0;
                pointer-events:none;
            }
            .carousel-nav .btn{
                pointer-events:auto;
                position:absolute;
                top:-16px;
                right:0;
                transform:translateY(-50%);
                border-radius:999px;
                padding:8px 10px;
                font-weight:800;
            }
            .carousel-dots{
                display:flex;
                gap:6px;
                justify-content:center;
                margin-top:10px;
            }
            .carousel-dots .dot{
                width:8px; height:8px; border-radius:999px;
                background:#d1d5db;
            }
            .carousel-dots .dot.active{ background:#14532d; }
        }

        .section{padding:40px 0}
        .two{display:grid; grid-template-columns: 1fr 1fr; gap:20px}
        .footer{padding:40px 0 60px; color:#667085; font-size:14px}
        .pricing{display:grid; grid-template-columns: 1fr 1fr; gap:16px}
        .price{padding:20px; border:1px solid var(--line); border-radius:16px; background:#fff}
        .price h4{margin:0 0 2px}
        .price .amt{font-size:28px; font-weight:800}
        .price ul{margin:12px 0 0; padding-left:18px; color:#475467}
        .note{font-size:13px; color:#667085}

        @media (max-width: 920px){
            .features .grid{grid-template-columns: 1fr 1fr}
            .two{grid-template-columns:1fr}
        }
        @media (max-width: 560px){
            .features .grid{grid-template-columns:1fr}
            .pricing{grid-template-columns:1fr}
        }

        .visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}

        .showcase .row { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 32px; }
        .explainer ul { list-style: none; margin: 0; padding: 0; }
        .explainer li { margin-bottom: 12px; font-size: 15px; color: var(--muted); }
        .cta-panel { display: flex; flex-direction: column; justify-content: center; text-align: center; }
        .cta-panel h3 { margin: 0 0 8px; }
        .cta-panel p { margin: 0 0 16px; color: var(--muted); }
        @media (max-width: 840px) { .showcase .row { grid-template-columns: 1fr; } }

        body{ background: var(--bg); }
        .hero-wrap{ background: linear-gradient(180deg, #eef6f0 0%, #f9fafb 100%); }
        .btn.primary{ background: var(--brand); color: var(--brand-ink); border-color: transparent; box-shadow: 0 8px 24px rgba(20,83,45,.25); }
        .btn.primary:hover{ filter: brightness(0.95); }
        .btn.ghost{ background: transparent; color: var(--warn) !important; border: 1px solid var(--brand); }
        .btn.ghost:hover{ background: rgba(20,83,45,.08); }
        .eyebrow,.tag{ background: #ecfdf5; border: 1px solid #bbf7d0; color: #14532d; }
        .chip{ border:1px solid #dbe7db; background:#f2fbf4; color:#14532d; }
        .score{ background:#14532d; color:#fff; }
        .score .live{ background:#f59e0b; color:#000; }
        a{ color:#14532d; }
        a:hover{ text-decoration:underline; }
        .forum, .chat{ border-color:#e3e8e2; }
        .cta-panel p{ color:#475467; }
        .alert{border:1px solid var(--line); background:#ecfdf5; color:#14532d; padding:12px 14px; border-radius:12px; font-weight:600}
        .alert.error{ background:#fef2f2; color:#991b1b }






        /* --- Mobile hamburger --- */
        .hamburger{
            display:none; /* shown on mobile via media query */
            border:1px solid var(--line);
            background:#fff;
            border-radius:12px;
            padding:10px 12px;
            gap:6px;
            align-items:center;
        }
        .hamburger .bar{
            display:block; width:18px; height:2px; background:#111827; margin:3px 0; border-radius:2px;
        }

        /* desktop nav baseline */
        .topnav{ display:flex; gap:10px; align-items:center; }

        /* Mobile layout: hide buttons, show hamburger, use a popover panel */
        @media (max-width: 760px){
            .hamburger{ display:block; }
            .topnav{
                position: fixed;
                top: 64px;           /* just under the header */
                right: 16px;
                left: 16px;
                display: grid;
                gap: 10px;
                padding: 12px;
                border: 1px solid var(--line);
                border-radius: 14px;
                background: #fff;
                box-shadow: var(--shadow);
                z-index: 50;
                transform: translateY(-12px);
                opacity: 0;
                pointer-events: none;
                transition: opacity .15s ease, transform .15s ease;
            }
            .topnav a.btn{ width:100%; justify-content:center; }

            /* open state toggled by JS */
            .topnav.is-open{
                opacity:1; transform: translateY(0); pointer-events:auto;
            }

            /* keep header content spaced (brand + burger) */
            .nav{ position:sticky; top:0; background:var(--bg); z-index:60; }
        }



    </style>





    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EXFSK5JJWG"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-EXFSK5JJWG');
    </script>


    <script src="https://app.termly.io/resource-blocker/0f25c24d-ccf4-4814-a496-1ecbdab88366?autoBlock=on"></script>


</head>
<body>
<header class="container nav" aria-label="Top Navigation">
    <div class="brand">
        <span class="logo" aria-hidden="true"></span>
        <span>FanForum</span>
    </div>

    <!-- mobile toggle -->
    <button
            id="menuToggle"
            class="hamburger"
            aria-label="Open menu"
            aria-controls="primaryNav"
            aria-expanded="false">
        <!-- simple icon -->
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
    </button>

    <!-- nav links -->
    <nav id="primaryNav" class="topnav" aria-label="Primary">
        <a class="btn ghost" href="#features">Features</a>
        <a class="btn ghost" href="#live">Live Match</a>
        <a class="btn ghost" href="#clubs">Club Rooms</a>
        <a class="btn" href="#signup">Sign in</a>
    </nav>
</header>


<div class="hero-wrap">
    <section class="hero">
        <span class="eyebrow">New • Football first, F1 next</span>
        <h1>Where matchday chat meets a modern forum.</h1>
        <p class="sub">
            FanForum blends a Slack-style <strong>Live Match Chat</strong> with a beautifully simple <strong>forum</strong>.
            Join <strong>club-only rooms</strong>, follow <strong>real-time scores</strong>, and keep one account across sports:
            <em>football.fanforums.live</em>, <em>f1.fanforums.live</em>, and more.
        </p>
        <div class="cta">
            <a class="btn primary" href="#signup" aria-label="Create your account">Get Started</a>
            <a class="btn" href="#demo" aria-label="See the UI">See the UI</a>
        </div>
    </section>
</div>

<section id="demo" class="showcase container">
    <div class="row">
        <div class="frame forum-frame">
            <div class="forum" aria-label="Forum preview">
                <div class="head">
                    <strong>Forum: Premier League</strong>
                    <span class="pill">Today</span>
                </div>
                <div class="threads" role="list">
                    <article class="thread" role="listitem">
                        <div>
                            <div class="title">Match thread: Spurs vs Arsenal — Tactics & line-ups</div>
                            <div class="meta">Started by <strong>@Lilywhite</strong> • 142 replies • 3.2k views</div>
                            <div class="chips">
                                <span class="chip">Tactics</span><span class="chip">Line-ups</span>
                            </div>
                            <div class="reply-row">
                                <div class="reply-bubble">High press with Maddison floating between lines could work.</div>
                            </div>
                            <div class="reply-row reply-collapse">
                                <div class="reply-bubble">Agree. Need quicker switches to the weak side.</div>
                            </div>
                        </div>
                    </article>
                    <article class="thread" role="listitem">
                        <div>
                            <div class="title">In-game: City vs United (2-1)</div>
                            <div class="meta">Started by <strong>@BlueMoon</strong> • 68 replies • 1.1k views</div>
                            <div class="chips"><span class="chip">In-game</span><span class="chip">Highlights</span></div>
                        </div>
                    </article>
                    <article class="thread" role="listitem">
                        <div>
                            <div class="title">Weekend roundup & form watch</div>
                            <div class="meta">Started by <strong>@Neutral</strong> • 54 replies • 980 views</div>
                            <div class="chips"><span class="chip">Form</span><span class="chip">Stats</span></div>
                        </div>
                    </article>
                </div>
            </div>
        </div>

        <div class="frame explainer">
            <h3>Why FanForum?</h3>
            <ul>
                <li>🚀 Real-time chat without the noise</li>
                <li>⚽ Forums that stay clean & easy to read</li>
                <li>🔒 Private club-only rooms for your community</li>
            </ul>
        </div>
    </div>

    <div class="row">
        <div class="frame cta-panel">
            <h3>Ready to get started?</h3>
            <p>Join thousands of fans already chatting live and debating in clean forums.</p>
            <a href="#signup" class="btn primary" style="align-self: center;">Get Started</a>
        </div>

        <div class="frame chat-frame" id="live">
            <div class="chat" aria-label="Live match chat preview">
                <div class="bar">
                    <span>Live Match • Spurs vs Arsenal</span>
                    <span class="score"><span class="live">LIVE</span> 1 — 0 • 56'</span>
                </div>
                <div class="msgs" role="feed" aria-busy="false">
                    <div class="msg"><div class="bubble"><strong>@Gooner</strong> That turnover was risky. Need calmer buildup.</div></div>
                    <div class="msg you"><div class="bubble"><strong>You</strong> Kane drops in, Son runs channel — still works a treat!</div></div>
                    <div class="msg"><div class="bubble"><strong>@Analyst</strong> PPDA last 5’ trending up. Watch the press fatigue.</div></div>
                </div>
                <div class="input" role="form" aria-label="Send a live message (demo)">
                    <input type="text" placeholder="Type a quick message…" aria-label="Message input (demo only)">
                    <button type="button" aria-label="Send message (demo)">Send</button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FEATURES -->
<section id="features" class="container features" aria-label="Key features">
    <!-- mobile carousel nav (appears only on ≤560px via CSS) -->
    <div class="carousel-nav" aria-hidden="true">
        <button class="btn" type="button" id="feat-next">›</button>
    </div>

    <div class="grid" id="featuresGrid" role="region" aria-label="Features carousel">
        <div class="feat"><h3>Forum UI without chaos</h3><p>No more 10-level nesting. We group replies smartly, keep context visible, and make reading effortless.</p></div>
        <div class="feat"><h3>Live Match Chat</h3><p>Fast, Slack-style chat for matchdays. Emotes, quick reactions, and rate-limited spam control.</p></div>
        <div class="feat"><h3>Club-Only Rooms</h3><p>Create private spaces for your club or supporters’ group with invites and mod tools.</p></div>
        <div class="feat"><h3>Real-Time Scores</h3><p>Inline score badges and timelines keep you on the game while you chat.</p></div>
        <div class="feat"><h3>One Account, All Sports</h3><p>Single sign-on across football, F1 and more. Follow what you love, seamlessly.</p></div>
        <div class="feat"><h3>Fair Moderation</h3><p>Report tools, rate limits, and role-based access. Healthy discussion by design.</p></div>
    </div>

    <div class="carousel-dots" id="featureDots" aria-hidden="true"></div>
</section>

<section id="clubs" class="container section two">
    <div class="panel" style="padding:20px">
        <span class="eyebrow">Club-Only Rooms</span>
        <h2 style="margin:10px 0 6px">Your club, your crowd.</h2>
        <p class="sub" style="margin:0">Create members-only spaces with invite codes, pinned threads, and match-day channels. Perfect for supporters’ clubs, ultras, or local communities.</p>
        <div class="grid" style="grid-template-columns:repeat(3,auto); gap:10px; margin-top:12px">
            <span class="pill">Invite-only</span><span class="pill">Moderation tools</span><span class="pill">Pinned posts</span>
            <span class="pill">Match channels</span><span class="pill">Media uploads</span><span class="pill">Report & mute</span>
        </div>
    </div>
    <div class="panel" style="padding:20px">
        <span class="eyebrow">Live Scores</span>
        <h2 style="margin:10px 0 6px">Stay on the scores, not on five tabs.</h2>
        <p class="sub" style="margin:0">Live score badges in threads and chats — so you never miss a goal while debating tactics.</p>
        <div style="margin-top:14px; display:grid; gap:10px">
            <div class="score"><span class="live">LIVE</span> LIV 2 — 1 CHE • 74’</div>
            <div class="score"><span class="live">LIVE</span> MCI 1 — 0 MUN • 61’</div>
            <div class="score">FT • NEW 3 — 2 BRI</div>
        </div>
    </div>
</section>

<section class="container section">
    <h2 style="margin:0 0 10px">Simple pricing that scales with you</h2>
    <p class="sub" style="margin:0 0 16px">Start free. Upgrade if you want private club rooms or bigger communities.</p>
    <div class="pricing">
        <div class="price">
            <h4>Starter</h4>
            <div class="amt">Free</div>
            <ul>
                <li>Public forums & live match chat</li>
                <li>Follow clubs & matches</li>
                <li>Ads</li>
            </ul>
        </div>
        <div class="price">
            <h4>Club</h4>
            <div class="amt">£5 / mo</div>
            <ul>
                <li>Private club rooms</li>
                <li>Moderator tools</li>
                <li>Custom invites</li>
                <li>Reduced Ads</li>
            </ul>
        </div>
    </div>
    <p class="note" style="margin-top:8px">Prices indicative; multi-currency at checkout.</p>
</section>

<!-- EMAIL / SIGNUP -->
<section id="signup" class="container section panel" style="padding:22px">
    <div class="two">
        <div>
            <h2 style="margin:0 0 6px">Grab your seat.</h2>
            <p class="sub" style="margin:0">We’ll ping you when we are ready for kick off!</p>
            <!-- Live region for messages -->
            <div id="signupMessage" class="visually-hidden" role="status" aria-live="polite"></div>
        </div>
        <form id="signupForm" action="https://formspree.io/f/xandgyko" method="POST" class="grid" style="grid-template-columns: 2fr 1fr; gap:10px" novalidate>
            <label class="visually-hidden" for="email">Email</label>
            <input id="email" name="email" type="email" placeholder="you@example.com" required aria-label="Email address" style="border:1px solid #E5E7EB; border-radius:12px; padding:12px">
            <button id="signupBtn" type="submit" class="btn primary" style="justify-content:center">Sign Up</button>
            <input type="hidden" name="source" value="fanforums.live-landing">
        </form>
    </div>
</section>

<footer class="container footer">
    <div style="display:flex; justify-content:space-between; gap:14px; flex-wrap:wrap">
        <div>© <span id="year"></span> FanForum. All rights reserved.</div>
        <div>Football first • F1 next • One account for all.</div>
    </div>
    <div style="display:flex; justify-content:space-between; gap:14px; flex-wrap:wrap">
        <div>
            <a href="#" class="termly-display-preferences">Consent Preferences</a>
            <a href="cookies.html" style="align-self: center;">Cookies</a>
            <a href="privacy.html" style="align-self: center;">Privacy</a>
        </div>
    </div>
    
</footer>

<script>
    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // ===== Form submit handler =====
    (function() {
        const form = document.getElementById('signupForm');
        if (!form) return;

        const btn = document.getElementById('signupBtn');
        const msg = document.getElementById('signupMessage');

        function showMessage(text, isError = false) {
            msg.classList.remove('visually-hidden');
            msg.classList.toggle('alert', true);
            msg.classList.toggle('error', isError);
            msg.textContent = text;
            // Also inject a visible alert box above the form for sighted users
            let box = document.getElementById('signupAlertBox');
            if (!box) {
                box = document.createElement('div');
                box.id = 'signupAlertBox';
                box.className = 'alert';
                form.parentElement.insertBefore(box, form);
            }
            box.className = 'alert' + (isError ? ' error' : '');
            box.textContent = text;
        }

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            // basic client validation
            const email = form.querySelector('#email');
            if (!email.value || !email.checkValidity()) {
                showMessage('Please enter a valid email address.', true);
                email.focus();
                return;
            }

            btn.disabled = true; btn.textContent = 'Submitting…';

            try {
                const data = new FormData(form);
                const res = await fetch(form.action, {
                    method: 'POST',
                    body: data,
                    headers: { 'Accept': 'application/json' }
                });

                if (res.ok) {
                    showMessage('Thanks! You’re on the list — we’ll email when we kick off.');
                    // Replace form with a friendly confirmation
                    form.outerHTML = '<p class="alert" id="signupDone" role="status" aria-live="polite">✅ All set! We’ll be in touch soon.</p>';
                } else {
                    showMessage('Hmm, something went wrong. Please try again in a moment.', true);
                    btn.disabled = false; btn.textContent = 'Sign Up';
                }
            } catch (err) {
                showMessage('Network error. Check your connection and try again.', true);
                btn.disabled = false; btn.textContent = 'Sign Up';
            }
        });
    })();

    // ===== Mobile features carousel (≤560px) =====
    (function() {
        const grid = document.getElementById('featuresGrid');
        const dotsWrap = document.getElementById('featureDots');
        const nextBtn = document.getElementById('feat-next');
        if (!grid || !dotsWrap || !nextBtn) return;

        const mq = window.matchMedia('(max-width: 560px)');
        let items = [];
        let idx = 0;
        let isActive = false;

        function buildDots() {
            dotsWrap.innerHTML = '';
            items.forEach((_, i) => {
                const d = document.createElement('button');
                d.type = 'button';
                d.className = 'dot' + (i === idx ? ' active' : '');
                d.setAttribute('aria-label', `Go to feature ${i+1}`);
                d.addEventListener('click', () => scrollToIndex(i));
                dotsWrap.appendChild(d);
            });
        }

        function updateDots() {
            [...dotsWrap.children].forEach((el, i) => el.classList.toggle('active', i === idx));
        }

        function scrollToIndex(i) {
            idx = Math.max(0, Math.min(items.length - 1, i));
            items[idx].scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
            updateDots();
        }

        function onScroll() {
            // find the card whose left edge is closest to the center
            const center = grid.scrollLeft + grid.clientWidth / 2;
            let best = 0, bestDist = Infinity;
            items.forEach((el, i) => {
                const rectLeft = el.offsetLeft + el.clientWidth / 2;
                const dist = Math.abs(rectLeft - center);
                if (dist < bestDist) { bestDist = dist; best = i; }
            });
            if (best !== idx) { idx = best; updateDots(); }
        }

        function enable() {
            if (isActive) return;
            isActive = true;
            items = Array.from(grid.querySelectorAll('.feat'));
            buildDots();
            grid.addEventListener('scroll', onScroll, { passive: true });
            nextBtn.addEventListener('click', () => scrollToIndex(idx + 1));
            // Keyboard support
            grid.setAttribute('tabindex', '0');
            grid.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight') { e.preventDefault(); scrollToIndex(idx + 1); }
                if (e.key === 'ArrowLeft')  { e.preventDefault(); scrollToIndex(idx - 1); }
            });
            // Start centered on first
            setTimeout(() => scrollToIndex(0), 0);
        }

        function disable() {
            if (!isActive) return;
            isActive = false;
            grid.removeEventListener('scroll', onScroll);
            nextBtn.replaceWith(nextBtn.cloneNode(true)); // remove listeners
            dotsWrap.innerHTML = '';
            grid.removeAttribute('tabindex');
        }

        function handleMQ(e) { e.matches ? enable() : disable(); }
        mq.addEventListener('change', handleMQ);
        handleMQ(mq); // init
    })();
</script>


<script>
    (function(){
        const toggle = document.getElementById('menuToggle');
        const panel  = document.getElementById('primaryNav');
        if(!toggle || !panel) return;

        const focusableSel = 'a[href], button:not([disabled])';
        let lastFocused = null;

        function openMenu(){
            lastFocused = document.activeElement;
            panel.classList.add('is-open');
            toggle.setAttribute('aria-expanded','true');
            // focus first link
            const first = panel.querySelector(focusableSel);
            first && first.focus();
            // lock background scroll on iOS-ish
            document.body.style.overflow = 'hidden';
        }
        function closeMenu(){
            panel.classList.remove('is-open');
            toggle.setAttribute('aria-expanded','false');
            document.body.style.overflow = '';
            if (lastFocused) { toggle.focus(); }
        }
        function isOpen(){ return panel.classList.contains('is-open'); }

        // Toggle click
        toggle.addEventListener('click', () => isOpen() ? closeMenu() : openMenu());

        // Close when clicking a link
        panel.addEventListener('click', (e) => {
            if (e.target.closest('a')) closeMenu();
        });

        // Click outside
        document.addEventListener('click', (e) => {
            if (!isOpen()) return;
            const isInside = panel.contains(e.target) || toggle.contains(e.target);
            if (!isInside) closeMenu();
        });

        // ESC to close; simple focus trap (TAB cycles within panel)
        document.addEventListener('keydown', (e) => {
            if (!isOpen()) return;
            if (e.key === 'Escape') { e.preventDefault(); closeMenu(); }
            if (e.key === 'Tab') {
                const focusables = [...panel.querySelectorAll(focusableSel)];
                if (focusables.length === 0) return;
                const first = focusables[0], last = focusables[focusables.length - 1];
                if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
                else if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
            }
        });

        // Ensure desktop view resets state on resize
        const mq = window.matchMedia('(min-width: 761px)');
        mq.addEventListener('change', (e) => { if (e.matches) closeMenu(); });
    })();
</script>


</body>
</html>




